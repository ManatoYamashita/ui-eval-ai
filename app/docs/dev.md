<!-- app/docs/dev.md -->

# UI Evaluation AI: é–‹ç™ºãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

**ğŸ¯ ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„**: AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãŒå¸¸ã«å‚ç…§ã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ–¹å‘æ€§ã‚’ä¿ã¡ãªãŒã‚‰å®Ÿè£…ã‚’é€²ã‚ã‚‹ãŸã‚ã®ãƒã‚¹ã‚¿ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

**ğŸ“ æ›´æ–°ãƒ«ãƒ¼ãƒ«**: å®Ÿè£…éç¨‹ã§æ–°ã—ã„çŸ¥è¦‹ã‚„å¤‰æ›´ãŒç”Ÿã˜ãŸå ´åˆã€ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¿½è¨˜ãƒ»æ›´æ–°ã‚’è¡Œã†
å®Ÿè£…æ‰‹é †ã®é …ç›®ã‚’å®Œäº†ã—ãŸã‚‰ã€è©²å½“é …ç›®ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã€‚

---

## ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ã‚·ã‚¹ãƒ†ãƒ ã®ç›®çš„

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ‡ã‚¶ã‚¤ãƒ³ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã€ã€Œã“ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã®æ”¹å–„ç‚¹ã¯ï¼Ÿã€ãªã©ã®è‡ªç„¶è¨€èªè³ªå•ã«å¯¾ã—ã¦ã€WCAGãƒ»Apple HIGãƒ»Refactoring UIãªã©ã®æ¨©å¨ã‚ã‚‹ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«åŸºã¥ã„ãŸå°‚é–€çš„ãªæ”¹å–„ææ¡ˆã‚’æä¾›ã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚

### ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼

- **ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼**: å®¢è¦³çš„ãªãƒ‡ã‚¶ã‚¤ãƒ³è©•ä¾¡ã¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æº–æ‹ ç¢ºèª
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢**: å®Ÿè£…ãƒ¬ãƒ™ãƒ«ã§ã®æ”¹å–„ææ¡ˆï¼ˆTailwindCSSã‚³ãƒ¼ãƒ‰ä»˜ãï¼‰
- **ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼**: ãƒ‡ã‚¶ã‚¤ãƒ³å“è³ªã®å®šé‡çš„è©•ä¾¡

### æ ¸å¿ƒä¾¡å€¤

1. **å°‚é–€æ€§**: æ¥­ç•Œæ¨™æº–ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«åŸºã¥ãä¿¡é ¼æ€§ã®é«˜ã„åˆ†æ
2. **å®Ÿç”¨æ€§**: å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ä¾‹ã‚’å«ã‚€å®Ÿè£…å¯èƒ½ãªæ”¹å–„ææ¡ˆ
3. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: è‡ªç„¶è¨€èªã§ã®è³ªå•ã«å¯¾å¿œã€å°‚é–€çŸ¥è­˜ä¸è¦

---

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### å…¨ä½“æ§‹æˆ

``` plaintext
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Frontend         â”‚    â”‚    Supabase         â”‚    â”‚    AI Services      â”‚
â”‚    (Next.js 15)     â”‚    â”‚   (PostgreSQL +     â”‚    â”‚                     â”‚
â”‚                     â”‚    â”‚    pgvector)        â”‚    â”‚                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚                     â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ File Upload   â”‚  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”‚ Claude 3.5    â”‚  â”‚
â”‚  â”‚ Component     â”‚  â”‚â”€â”€â”€â”€â”¤  â”‚ Vector Search â”‚  â”‚    â”‚  â”‚ Haiku         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â”‚ (Guidelines)  â”‚  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚                     â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Analysis      â”‚  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”‚ OpenAI        â”‚  â”‚
â”‚  â”‚ Results UI    â”‚  â”‚â”€â”€â”€â”€â”¤  â”‚ Hybrid Search â”‚  â”‚    â”‚  â”‚ Embeddings    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â”‚ Function      â”‚  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

1. **å…¥åŠ›**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç”»åƒã¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
2. **è¦ç´ è­˜åˆ¥**: AI APIã§ç”»åƒã®UIè¦ç´ ã‚’è‡ªå‹•åˆ†æ
3. **çŸ¥è­˜æ¤œç´¢**: Supabaseã§ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ¤œç´¢å®Ÿè¡Œï¼ˆãƒ™ã‚¯ãƒˆãƒ«+å…¨æ–‡ï¼‰
4. **åˆ†æå®Ÿè¡Œ**: é–¢é€£ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ + ç”»åƒã‚’AI APIã«é€ä¿¡
5. **çµæœè¡¨ç¤º**: æ§‹é€ åŒ–ã•ã‚ŒãŸæ”¹å–„ææ¡ˆã‚’UIè¡¨ç¤º

---

## ğŸ’» æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

- **Next.js 15**: App Routerä½¿ç”¨
- **TypeScript**: å³å¯†ãªå‹å®‰å…¨æ€§
- **TailwindCSS**: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆCSS
- **React Hook Form**: ãƒ•ã‚©ãƒ¼ãƒ çŠ¶æ…‹ç®¡ç†

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

- **Supabase**: PostgreSQL + pgvector + èªè¨¼
- **PostgreSQL Functions**: ã‚«ã‚¹ã‚¿ãƒ SQLé–¢æ•°ã§ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ¤œç´¢
- **Row Level Security**: ãƒ‡ãƒ¼ã‚¿ä¿è­·

### AIãƒ»æ©Ÿæ¢°å­¦ç¿’

- **Google Gemini 1.5 Flash**: ç”»åƒåˆ†æãƒ»æ”¹å–„ææ¡ˆç”Ÿæˆï¼ˆã‚³ã‚¹ãƒˆæœ€é©åŒ–ï¼‰
  - Input: $0.075/1M tokens (vs Claude $15/1M tokens: **200å€å‰Šæ¸›**)
  - Output: $0.30/1M tokens (vs Claude $75/1M tokens: **250å€å‰Šæ¸›**)
- **Google Text Embedding 004**: ãƒ†ã‚­ã‚¹ãƒˆãƒ™ã‚¯ãƒˆãƒ«åŒ–ï¼ˆ768æ¬¡å…ƒï¼‰
  - $0.00001/token (vs OpenAI $0.0001/token: **10å€å‰Šæ¸›**)
- **pgvector**: ãƒ™ã‚¯ãƒˆãƒ«é¡ä¼¼åº¦æ¤œç´¢

### ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

- **Vercel**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ + API Routes
- **Supabase Cloud**: ãƒãƒãƒ¼ã‚¸ãƒ‰PostgreSQL

**ğŸ’° ã‚³ã‚¹ãƒˆå‰Šæ¸›åŠ¹æœ**: å¾“æ¥æ¯”ç´„**95%å‰Šæ¸›**ï¼ˆæœˆ100å›åˆ†æã§ç´„$150â†’$7.5ï¼‰

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### ãƒ¡ã‚¤ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«: design_guidelines

```sql
CREATE TABLE design_guidelines (
  id BIGSERIAL PRIMARY KEY,
  content TEXT NOT NULL,                    -- ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æœ¬æ–‡
  source VARCHAR(100) NOT NULL,             -- WCAG, Apple HIG, Refactoring UI
  category VARCHAR(50) NOT NULL,            -- accessibility, usability, visual_design
  subcategory VARCHAR(100),                 -- color_contrast, touch_targets, typography
  embedding VECTOR(1536),                   -- OpenAI embeddings (1536æ¬¡å…ƒ)
  metadata JSONB,                          -- è¿½åŠ æƒ…å ±ï¼ˆãƒ¬ãƒ™ãƒ«ã€é‡è¦åº¦ç­‰ï¼‰
  keywords TEXT[],                         -- æ¤œç´¢ç”¨ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰é…åˆ—
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX design_guidelines_embedding_idx 
ON design_guidelines 
USING ivfflat (embedding vector_cosine_ops)
WITH (lists = 100);

CREATE INDEX design_guidelines_content_gin_idx 
ON design_guidelines 
USING gin(to_tsvector('japanese', content));

CREATE INDEX design_guidelines_category_idx 
ON design_guidelines (source, category);
```

### é‡è¦ãªPostgreSQLé–¢æ•°

```sql
-- ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ¤œç´¢é–¢æ•°ï¼ˆãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ + å…¨æ–‡æ¤œç´¢ï¼‰
CREATE OR REPLACE FUNCTION hybrid_search(
  query_text TEXT,
  query_embedding VECTOR(1536),
  match_threshold FLOAT DEFAULT 0.7,
  match_count INT DEFAULT 5
)
RETURNS TABLE(
  id BIGINT,
  content TEXT,
  source VARCHAR(100),
  category VARCHAR(50),
  similarity_score FLOAT,
  text_rank FLOAT,
  combined_score FLOAT,
  metadata JSONB
)
LANGUAGE SQL
AS $$
  WITH vector_search AS (
    SELECT 
      id, content, source, category, metadata,
      1 - (embedding <=> query_embedding) AS similarity_score
    FROM design_guidelines
    WHERE 1 - (embedding <=> query_embedding) > match_threshold
  ),
  text_search AS (
    SELECT 
      id, content, source, category, metadata,
      ts_rank_cd(
        to_tsvector('japanese', content), 
        plainto_tsquery('japanese', query_text)
      ) AS text_rank
    FROM design_guidelines
    WHERE to_tsvector('japanese', content) @@ plainto_tsquery('japanese', query_text)
  )
  SELECT 
    COALESCE(v.id, t.id) AS id,
    COALESCE(v.content, t.content) AS content,
    COALESCE(v.source, t.source) AS source,
    COALESCE(v.category, t.category) AS category,
    COALESCE(v.similarity_score, 0) AS similarity_score,
    COALESCE(t.text_rank, 0) AS text_rank,
    (COALESCE(v.similarity_score, 0) * 0.7 + COALESCE(t.text_rank, 0) * 0.3) AS combined_score,
    COALESCE(v.metadata, t.metadata) AS metadata
  FROM vector_search v
  FULL OUTER JOIN text_search t ON v.id = t.id
  ORDER BY combined_score DESC
  LIMIT match_count;
$$;
```

---

## ğŸ”§ ä¸»è¦æ©Ÿèƒ½ã®å®Ÿè£…ä»•æ§˜

### 1. ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½

**ä»•æ§˜**:

- å¯¾å¿œå½¢å¼: JPEG, PNG, GIF, webP
- æœ€å¤§ã‚µã‚¤ã‚º: 10MB
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰å‰å‡¦ç†: ãƒªã‚µã‚¤ã‚ºã€ç”»è³ªæœ€é©åŒ–

**å®Ÿè£…å ´æ‰€**: `app/components/FileUpload.tsx`

### 2. AIç”»åƒåˆ†ææ©Ÿèƒ½

**æ®µéšçš„åˆ†æãƒ—ãƒ­ã‚»ã‚¹**:

```typescript
// åˆ†æãƒ•ãƒ­ãƒ¼
async function analyzeDesign(image: File, prompt: string): Promise<AnalysisResult> {
  // 1. ç”»åƒå‰å‡¦ç†
  const processedImage = await preprocessImage(image);
  
  // 2. UIè¦ç´ è­˜åˆ¥
  const elements = await identifyDesignElements(processedImage);
  
  // 3. é–¢é€£ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æ¤œç´¢
  const guidelines = await searchRelevantGuidelines(elements, prompt);
  
  // 4. æ§‹é€ åŒ–ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ
  const analysisPrompt = generateAnalysisPrompt(elements, guidelines, prompt);
  
  // 5. AIåˆ†æå®Ÿè¡Œ
  const result = await callClaudeAPI(processedImage, analysisPrompt);
  
  return result;
}
```

**å®Ÿè£…å ´æ‰€**: `app/lib/ai-analysis.ts`

### 3. RAGæ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ 

**æ¤œç´¢æˆ¦ç•¥**:

- **ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢**: ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãªé¡ä¼¼æ€§ï¼ˆé‡ã¿: 70%ï¼‰
- **å…¨æ–‡æ¤œç´¢**: ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒãƒ³ã‚°ï¼ˆé‡ã¿: 30%ï¼‰
- **å‹•çš„ã‚¯ã‚¨ãƒªç”Ÿæˆ**: è­˜åˆ¥ã•ã‚ŒãŸUIè¦ç´ ã«åŸºã¥ãè‡ªå‹•æ¤œç´¢

**å®Ÿè£…å ´æ‰€**: `app/lib/rag-search.ts`

---

## ğŸ› ï¸ APIè¨­è¨ˆ

### ãƒ¡ã‚¤ãƒ³åˆ†æAPI

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/analyze`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:

```typescript
interface AnalyzeRequest {
  image: File;     // ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆFormDataï¼‰
  prompt: string;  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:

```typescript
interface AnalyzeResponse {
  success: boolean;
  analysis: {
    current_issues: string;           // ç¾çŠ¶ã®å•é¡Œç‚¹
    improvements: {
      priority: 'high' | 'medium' | 'low';
      title: string;
      problem: string;
      solution: string;
      implementation: string;        // TailwindCSSã‚³ãƒ¼ãƒ‰ä¾‹
      guideline_reference: string;
    }[];
    predicted_impact: {
      accessibility_score: number;
      usability_improvement: string;
      conversion_impact: string;
    };
  };
  guidelines_used: {
    source: string;
    content: string;
    relevance_score: number;
  }[];
  processing_time: number;
  error?: string;
}
```

### è£œåŠ©API

**ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æ¤œç´¢**: `POST /api/search`
**ãƒ†ã‚­ã‚¹ãƒˆåŸ‹ã‚è¾¼ã¿**: `POST /api/embed`

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

``` bash

ui-eval-ai/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ analyze/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts              # ãƒ¡ã‚¤ãƒ³åˆ†æAPI
â”‚   â”‚   â”œâ”€â”€ search/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts              # ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æ¤œç´¢API
â”‚   â”‚   â””â”€â”€ embed/
â”‚   â”‚       â””â”€â”€ route.ts              # ãƒ†ã‚­ã‚¹ãƒˆåŸ‹ã‚è¾¼ã¿API
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”‚   â”œâ”€â”€ FileUpload.tsx        # ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰UI
â”‚   â”‚   â”‚   â”œâ”€â”€ AnalysisResult.tsx    # åˆ†æçµæœè¡¨ç¤ºUI
â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.tsx    # ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
â”‚   â”‚   â”‚   â””â”€â”€ ErrorMessage.tsx      # ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºUI
â”‚   â”‚   â””â”€â”€ layout/
â”‚   â”‚       â”œâ”€â”€ Header.tsx
â”‚   â”‚       â””â”€â”€ Footer.tsx
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ supabase.ts              # Supabaseè¨­å®šãƒ»ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ ai-clients.ts            # AI API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ ai-analysis.ts           # ç”»åƒåˆ†æãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ rag-search.ts            # RAGæ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ image-processing.ts      # ç”»åƒå‰å‡¦ç†
â”‚   â”‚   â”œâ”€â”€ prompt-engineering.ts    # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ utils.ts                 # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ analysis.ts              # åˆ†æé–¢é€£ã®å‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ guidelines.ts            # ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³é–¢é€£ã®å‹å®šç¾©
â”‚   â”‚   â””â”€â”€ api.ts                   # APIé–¢é€£ã®å‹å®šç¾©
â”‚   â”œâ”€â”€ page.tsx                     # ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ layout.tsx                   # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â””â”€â”€ globals.css                  # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ setup-knowledge-base.ts      # çŸ¥è­˜ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ migrate-data.ts              # ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â”œâ”€â”€ 001_initial_schema.sql   # åˆæœŸã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â””â”€â”€ 002_add_indexes.sql      # ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¿½åŠ 
â”‚   â””â”€â”€ functions/
â”‚       â””â”€â”€ hybrid_search.sql        # ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ¤œç´¢é–¢æ•°
â”œâ”€â”€ public/
â”‚   â””â”€â”€ examples/                    # ã‚µãƒ³ãƒ—ãƒ«ç”»åƒ
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ setup.md                     # ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
â”‚   â””â”€â”€ api.md                       # APIä»•æ§˜æ›¸
â”œâ”€â”€ .env.local.example               # ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ next.config.js
```

---

## ğŸš€ å®Ÿè£…æ‰‹é †

### Phase 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºç›¤æ§‹ç¯‰ âœ…

- [x] **Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–**
  - [x] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãƒ»ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  - [x] TypeScriptè¨­å®šãƒ»å‹å®šç¾©ä½œæˆ
  - [x] åŸºæœ¬ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ä½œæˆ

- [x] **åŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ**
  - [x] `LoadingSpinner.tsx`: ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°UI
  - [x] `FileUpload.tsx`: ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—å¯¾å¿œï¼‰
  - [x] `page.tsx`: ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

- [ ] **ç’°å¢ƒå¤‰æ•°è¨­å®š**
  - [ ] Supabaseæ¥ç¶šæƒ…å ±
  - [ ] AI API ã‚­ãƒ¼è¨­å®š

### Phase 2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»RAGã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ âœ…

- [x] **Supabaseã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**
  - [x] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆï¼ˆè¦æ‰‹å‹•è¨­å®šï¼‰
  - [x] pgvectoræ‹¡å¼µæœ‰åŠ¹åŒ–
  - [x] ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆãƒ»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­å®š
  - [x] Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…

- [x] **çŸ¥è­˜ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰**
  - [x] `setup-knowledge-base.ts`ä½œæˆ
  - [x] WCAGã€Apple HIGã€Refactoring UIã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æŠ•å…¥
  - [x] åŸ‹ã‚è¾¼ã¿ç”Ÿæˆãƒ»ä¿å­˜

- [x] **RAGæ¤œç´¢å®Ÿè£…**
  - [x] ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ¤œç´¢é–¢æ•°ä½œæˆ
  - [x] `rag-search.ts`å®Ÿè£…
  - [x] æ¤œç´¢APIå®Ÿè£…(`/api/search`)
  - [x] åŸ‹ã‚è¾¼ã¿APIå®Ÿè£…(`/api/embed`)

- [x] **AI APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**
  - [x] OpenAIåŸ‹ã‚è¾¼ã¿ç”Ÿæˆ
  - [x] Claudeç”»åƒåˆ†æã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
  - [x] ãƒãƒƒãƒå‡¦ç†å¯¾å¿œ

### Phase 3: AIåˆ†æã‚·ã‚¹ãƒ†ãƒ å®Ÿè£… âœ…

- [x] **ç”»åƒå‰å‡¦ç†ã‚·ã‚¹ãƒ†ãƒ **
  - [x] `image-processing.ts`å®Ÿè£…
  - [x] ç”»åƒãƒªã‚µã‚¤ã‚ºãƒ»æœ€é©åŒ–
  - [x] Base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
  - [x] ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼å¤‰æ›

- [x] **UIè¦ç´ è­˜åˆ¥ã‚·ã‚¹ãƒ†ãƒ **
  - [x] è¦ç´ è­˜åˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå®Ÿè£…
  - [x] Gemini APIç”»åƒåˆ†æ
  - [x] æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿æŠ½å‡º

- [x] **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°**
  - [x] `prompt-engineering.ts`å®Ÿè£…
  - [x] å‹•çš„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ
  - [x] ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³çµ±åˆ
  - [x] å‡ºåŠ›å½¢å¼æœ€é©åŒ–

- [x] **ãƒ¡ã‚¤ãƒ³åˆ†æAPI**
  - [x] `/api/analyze`ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…
  - [x] åˆ†æãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³çµ±åˆ
  - [x] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  - [x] ãƒ¬ã‚¹ãƒãƒ³ã‚¹æœ€é©åŒ–

- [x] **åˆ†æçµæœè¡¨ç¤ºUI**
  - [x] `AnalysisResult.tsx`å®Ÿè£…
  - [x] çµæœã®æ§‹é€ åŒ–è¡¨ç¤º
  - [x] TailwindCSSã‚³ãƒ¼ãƒ‰è¡¨ç¤º
  - [x] æ”¹å–„ææ¡ˆUI

### Phase 4: UI/UXæ”¹å–„ãƒ»æœ€é©åŒ–

1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ”¹å–„**
   - åˆ†æçµæœã®è¦‹ã‚„ã™ã„è¡¨ç¤º
   - ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®æ”¹å–„
   - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ

2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**
   - ç”»åƒåœ§ç¸®
   - APIãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“æ”¹å–„
   - ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥

---

## ğŸ¯ å“è³ªåŸºæº–ãƒ»æˆåŠŸæŒ‡æ¨™

### æŠ€è¡“å“è³ªåŸºæº–

- **TypeScript**: å³å¯†ãªå‹ãƒã‚§ãƒƒã‚¯ã€anyå‹ã®ä½¿ç”¨ç¦æ­¢
- **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“**: åˆ†æå®Œäº†ã¾ã§10ç§’ä»¥å†…
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: å…¨APIã§é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®å³æ ¼ãªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

### åˆ†æå“è³ªåŸºæº–
- **å°‚é–€æ€§**: å¼•ç”¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³åã‚’æ˜è¨˜
- **å®Ÿç”¨æ€§**: TailwindCSSã‚³ãƒ¼ãƒ‰ä¾‹ã‚’å«ã‚€
- **å„ªå…ˆåº¦**: æ”¹å–„ææ¡ˆã‚’é‡è¦åº¦é †ã§æ•´ç†
- **æ ¹æ‹ **: å„ææ¡ˆã«å¯¾ã™ã‚‹æ˜ç¢ºãªç†ç”±ä»˜ã‘

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“åŸºæº–

- **ç›´æ„Ÿæ€§**: æŠ€è¡“çŸ¥è­˜ãªã—ã§åˆ©ç”¨å¯èƒ½
- **ä¿¡é ¼æ€§**: åˆ†æçµæœã®ä¸€è²«æ€§
- **æœ‰ç”¨æ€§**: å®Ÿéš›ã«å®Ÿè£…ã§ãã‚‹æ”¹å–„ææ¡ˆ

---

## ğŸ” ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°æŒ‡é‡

### è¦ç´ è­˜åˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

``` markdown
ç”»åƒã®UIè¦ç´ ã‚’åˆ†æã—ã€ä»¥ä¸‹ã®JSONå½¢å¼ã§è¿”ã—ã¦ãã ã•ã„ï¼š
{
  "elements": ["button", "text", "image", "form", "navigation"],
  "layout_type": "landing_page" | "app_interface" | "website" | "mobile_app",
  "color_scheme": ["primary_color", "secondary_color", "accent_color"],
  "potential_issues": ["low_contrast", "small_buttons", "crowded_layout"],
  "analysis_priorities": ["accessibility", "usability", "visual_design"]
}
ç°¡æ½”ã«è¦ç‚¹ã®ã¿å›ç­”ã—ã¦ãã ã•ã„ã€‚
```

### åŒ…æ‹¬åˆ†æãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

``` markdown

ã‚ãªãŸã¯UI/UXãƒ‡ã‚¶ã‚¤ãƒ³ã®å°‚é–€å®¶ã§ã™ã€‚ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸç”»åƒã‚’åˆ†æã—ã€å…·ä½“çš„ãªæ”¹å–„ææ¡ˆã‚’è¡Œã£ã¦ãã ã•ã„ã€‚

ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•ã€‘
{user_prompt}

ã€æ¤œå‡ºã•ã‚ŒãŸè¦ç´ ã€‘
{detected_elements}

ã€å‚è€ƒã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã€‘
{relevant_guidelines}

ã€å‡ºåŠ›å½¢å¼ã€‘
## ğŸ” ç¾çŠ¶åˆ†æ
[å•é¡Œç‚¹ã®è©³ç´°]

## ğŸ’¡ æ”¹å–„ææ¡ˆï¼ˆå„ªå…ˆåº¦é †ï¼‰
### ğŸ”´ é«˜å„ªå…ˆåº¦
1. **[æ”¹å–„é …ç›®]**
   - å•é¡Œ: [å…·ä½“çš„ãªå•é¡Œ]
   - æ ¹æ‹ : [ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³å]
   - æ”¹å–„æ¡ˆ: [å…·ä½“çš„ãªè§£æ±ºç­–]

## ğŸ’» å®Ÿè£…ä¾‹
```css
/* TailwindCSSã‚¯ãƒ©ã‚¹ä¾‹ */
.improved-element {
  @apply [å…·ä½“çš„ãªã‚¯ãƒ©ã‚¹];
}
```

## ğŸ“Š æ”¹å–„åŠ¹æœäºˆæ¸¬

[äºˆæƒ³ã•ã‚Œã‚‹åŠ¹æœ]
```

---

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

1. **ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼**
   - ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯ï¼ˆ10MBä»¥ä¸‹ï¼‰
   - MIME typeãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
   - base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç¢ºèª

2. **AI API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¨ãƒ©ãƒ¼**
   - API ã‚­ãƒ¼ã®æœ‰åŠ¹æ€§ç¢ºèª
   - ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒã‚§ãƒƒã‚¯
   - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®é•·ã•ç¢ºèª

3. **ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã®ç²¾åº¦ä½ä¸‹**
   - embeddingå“è³ªç¢ºèª
   - æ¤œç´¢é–¾å€¤èª¿æ•´ï¼ˆ0.7æ¨å¥¨ï¼‰
   - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å†æ§‹ç¯‰

4. **æ—¥æœ¬èªå…¨æ–‡æ¤œç´¢ã®å•é¡Œ**
   - PostgreSQLæ—¥æœ¬èªè¾æ›¸è¨­å®šç¢ºèª
   - to_tsvectoré–¢æ•°ã®è¨€èªè¨­å®š

---

## ğŸ“ é–‹ç™ºãƒ­ã‚°ãƒ»æ›´æ–°å±¥æ­´

### [æ›´æ–°æ—¥] - [æ›´æ–°è€…] - [å¤‰æ›´å†…å®¹]
<!-- å®Ÿè£…éç¨‹ã§ã®å¤‰æ›´ã‚„å­¦ã‚“ã çŸ¥è¦‹ã‚’ã“ã“ã«è¿½è¨˜ -->

**ä¾‹:**
- 2024-01-15 - AI Assistant - åˆæœŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
- 2024-01-16 - AI Assistant - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°æœ€é©åŒ–
- 2024-01-17 - AI Assistant - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–

---

## ğŸ”— å‚è€ƒãƒªã‚½ãƒ¼ã‚¹

### æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [Next.js 15 App Router](https://nextjs.org/docs)
- [Supabase Documentation](https://supabase.com/docs)
- [pgvector Documentation](https://github.com/pgvector/pgvector)
- [Google Gemini API Documentation](https://ai.google.dev/docs)
- [OpenAI Embeddings API](https://platform.openai.com/docs/guides/embeddings)

### ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
- [WCAG 2.1](https://www.w3.org/WAI/WCAG21/quickref/)
- [Apple Human Interface Guidelines](https://developer.apple.com/design/human-interface-guidelines/)
- [Refactoring UI](https://refactoringui.com/)

---

**ğŸ¯ é–‹ç™ºæ™‚ã®æ³¨æ„ç‚¹**:
ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å¸¸ã«å‚ç…§ã—ã€å®Ÿè£…ãŒä»•æ§˜ã‹ã‚‰é€¸è„±ã—ãªã„ã‚ˆã†æ³¨æ„ã—ã¦ãã ã•ã„ã€‚æ–°ã—ã„çŸ¥è¦‹ã‚„å¤‰æ›´ç‚¹ã¯å¿…ãšã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åæ˜ ã—ã€æ¬¡ã®é–‹ç™ºã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å…±æœ‰ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚